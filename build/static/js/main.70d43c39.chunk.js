(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{142:function(e,t,a){e.exports={title:"style_title__eTV8V"}},154:function(e,t,a){e.exports=a(261)},163:function(e,t,a){},261:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),s=a(270),l=a(23),i=a(42),u=a(82),p="GET_ALL_GAMES_REQUEST",m="GET_ALL_GAMES_SUCCESS",d="GET_ALL_GAMES_FAILED",f="SET_FAVORITE",h="UNSET_FAVORITE",g="SHOW_FULL_GAME_INFO",E="CLOSE_FULL_GAME_INFO",b={parsedGamesList:[],favoriteGames:[],gamesLoading:!1,gamesLoaded:!1,allGamesCount:null,currentSelected:null,isFullInfoShown:!1};var y="SET_FIND_TEXT",v={currentlyFinding:null};var O=Object(i.combineReducers)({games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=Object(u.a)({},e);switch(t.type){case p:return a.gamesLoading=!0,a.gamesLoaded=!1,a;case d:return a.gamesLoading=!1,a.gamesLoaded=!1,a.parsedGamesList=[],console.log(t.payload),a;case m:return a.gamesLoading=!1,a.gamesLoaded=!0,a.parsedGamesList=t.payload.results,a.allGamesCount=t.payload.count,a;case f:return a.favoriteGames=e.favoriteGames.filter((function(e){return e.id!==t.payload.id})),""!==t.payload&&a.favoriteGames.push(t.payload),a.isFullInfoShown=!1,a;case g:return a.isFullInfoShown=!0,a.currentSelected=t.payload,a;case E:return a.isFullInfoShown=!1,a;case h:return a.favoriteGames=e.favoriteGames.filter((function(e){return e.id!==t.payload.id})),a;default:return e}},generals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=Object(u.a)({},e);switch(t.type){case y:return a.currentlyFinding=t.payload,a;default:return e}}}),j=a(140),S=a(141),G=Object(i.createStore)(O,Object(j.composeWithDevTools)(Object(i.applyMiddleware)(S.a))),_=a(33),k=Object(_.a)(),w=(a(163),a(20)),F=a(21),L=a(27),A=a(25),C=a(28),T=Object(l.b)((function(e){return{auth:e.auth}}),null)((function(e){if(Object(n.useEffect)((function(){e.title&&(document.title=e.title)})),e.notAuth&&e.auth.accessToken)return r.a.createElement(s.a,{to:"/"});if(e.Auth&&!e.auth.accessToken)return r.a.createElement(s.a,{to:"/login"});var t=e.component;return r.a.createElement(t,e)})),I=a(142),x=a.n(I),M=function(e){function t(){return Object(w.a)(this,t),Object(L.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:x.a.title},"\u0425\u043c... \u042f \u043d\u0435 \u0443\u0432\u0435\u0440\u0435\u043d, \u0447\u0442\u043e \u0432\u044b \u0438\u0441\u043a\u0430\u043b\u0438 \u0438\u043c\u0435\u043d\u043d\u043e \u044d\u0442\u043e...")}}]),t}(r.a.Component),N=a(83),P=a.n(N),R=a(267),U=a(34),D=a.n(U),H=a(84),W=a.n(H);W.a.defaults.baseURL="http://localhost:5000/api/",W.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var z=W.a,V=function(e){var t,a,n=arguments;return D.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t=n.length>1&&void 0!==n[1]?n[1]:"GET",a=n.length>2?n[2]:void 0,r.t0=t,r.next="GET"===r.t0?5:"POST"===r.t0?6:"PUT"===r.t0?7:"DELETE"===r.t0?8:"PATCH"===r.t0?9:"OPTIONS"===r.t0?10:11;break;case 5:return r.abrupt("return",z.get(e));case 6:return r.abrupt("return",z.post(e,a));case 7:return r.abrupt("return",z.put(e,a));case 8:return r.abrupt("return",z.delete(e));case 9:return r.abrupt("return",z.patch(e,a));case 10:return r.abrupt("return",z.options(e));case 11:return r.abrupt("return",z.get(e));case 12:case"end":return r.stop()}}))},B=new(function(){function e(){Object(w.a)(this,e)}return Object(F.a)(e,[{key:"findAll",value:function(e){var t;return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,D.a.awrap(V("/findGame","POST",e));case 3:return t=a.sent,a.abrupt("return",JSON.parse(t.data));case 5:case"end":return a.stop()}}))}}]),e}()),J=function(e){return{type:g,payload:e}};function X(e){return function(t){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:p}),B.findAll(e).then((function(e){t({type:m,payload:e})})).catch((function(e){t({type:d,payload:e})}));case 2:case"end":return a.stop()}}))}}var K=R.a.Search,Q=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(L.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).onSearch=function(e){a.props.setFindText(e),a.props.getAllGames({search:e,page_size:"36"})},a}return Object(C.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"place"},r.a.createElement(K,{placeholder:"Enter game name here...",onSearch:this.onSearch}))}}]),t}(r.a.Component),$={getAllGames:X,setFindText:function(e){return function(t){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t({type:y,payload:e});case 1:case"end":return a.stop()}}))}}},q=Object(l.b)((function(e){return{games:e.games}}),$)(Q),Y=a(265),Z=a(269),ee=a(44),te=a(9),ae=a(268),ne=a(263),re=Y.a.Meta,oe=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(L.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).handleOk=function(){a.props.closeFullGameInfo()},a}return Object(C.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{loading:this.props.games.gamesLoading,grid:{gutter:16,column:6},dataSource:this.props.source,renderItem:function(t){return r.a.createElement(Z.a.Item,{key:t.id},r.a.createElement(Y.a,{hoverable:!0,style:{width:240,overflow:"hidden"},cover:r.a.createElement("img",{alt:"example",src:t.background_image,height:150,onClick:function(){return e.props.showFullGameInfo(t)}})},r.a.createElement(re,{title:t.name,description:"Release date: "+t.released}),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},r.a.createElement(ee.a,{key:"list-favorite",onClick:function(){-1!==e.props.games.favoriteGames.indexOf(t)?e.props.unsetFavorite(t):e.props.setFavorite(t)}},r.a.createElement(te.a,{type:"star",theme:-1!==e.props.games.favoriteGames.indexOf(t)?"filled":"outlined"})))))}}),this.props.games.currentSelected?r.a.createElement(ae.a,{visible:this.props.games.isFullInfoShown,title:this.props.games.currentSelected.name,onOk:this.handleOk,onCancel:this.handleOk,width:"50%",footer:[r.a.createElement(ee.a,{key:"submit",type:"primary",onClick:this.handleOk},"Ok"),r.a.createElement(ee.a,{onClick:function(){-1!==e.props.games.favoriteGames.indexOf(e.props.games.currentSelected)?e.props.unsetFavorite(e.props.games.currentSelected):e.props.setFavorite(e.props.games.currentSelected)}},r.a.createElement(te.a,{type:"star",theme:-1!==this.props.games.favoriteGames.indexOf(this.props.games.currentSelected)?"filled":"outlined"}))]},r.a.createElement("div",null,r.a.createElement("img",{alt:"example",src:this.props.games.currentSelected.background_image,width:"100%",height:"100%"})),r.a.createElement("p",null,"Rating: ",this.props.games.currentSelected.rating,"/",this.props.games.currentSelected.rating_top),r.a.createElement("p",null,"Metacritic: ",this.props.games.currentSelected.metacritic,"/100"),r.a.createElement("p",null,"Platforms:"," ",this.props.games.currentSelected.platforms.map((function(e){return e.platform.name+", "}))),r.a.createElement("p",null,"Genres:"," ",this.props.games.currentSelected.genres.map((function(e){return e.name+", "}))),r.a.createElement(ne.a,{autoplay:!0,dotPosition:"top",overflow:"hidden"},this.props.games.currentSelected.short_screenshots.map((function(e){return r.a.createElement("img",{alt:"example",src:e.image,width:"300"})})))):void 0)}}]),t}(r.a.Component),ce={getAllGames:X,showFullGameInfo:J,setFavorite:function(e){return{type:f,payload:e}},closeFullGameInfo:function(){return{type:E}},unsetFavorite:function(e){return{type:h,payload:e}}},se=Object(l.b)((function(e){return{games:e.games}}),ce)(oe),le=a(150),ie=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(L.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(r)))).onPageChange=function(e){a.props.getAllGames({page_size:"36",page:e,search:a.props.generals.currentlyFinding})},a}return Object(C.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return r.a.createElement(le.a,{defaultCurrent:1,onChange:this.onPageChange,pageSize:36,total:this.props.games.allGamesCount,style:{marginBottom:"10px"}})}}]),t}(r.a.Component),ue={getAllGames:X},pe=Object(l.b)((function(e){return{games:e.games,generals:e.generals}}),ue)(ie),me=a(264),de=a(266),fe=me.a.Header,he=me.a.Content,ge=me.a.Sider,Ee=de.a.SubMenu,be=function(e){function t(){return Object(w.a)(this,t),Object(L.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(me.a,{className:P.a.container},r.a.createElement(ge,{breakpoint:"lg",collapsedWidth:"0"},r.a.createElement(de.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(de.a.Item,{key:"1"},r.a.createElement(te.a,{type:"user"}),r.a.createElement("span",null,"Main")),r.a.createElement(Ee,{title:r.a.createElement("span",null,r.a.createElement(te.a,{type:"star",theme:"filled"}),r.a.createElement("span",null,"My favorites"))},this.props.games.favoriteGames!==[]?this.props.games.favoriteGames.map((function(t){return r.a.createElement(de.a.Item,{key:t.id,onClick:function(){return e.props.showFullGameInfo(t)}},t.name)})):void 0))),r.a.createElement(me.a,null,r.a.createElement(fe,{className:P.a.header},r.a.createElement(q,{className:P.a.finder})),r.a.createElement(he,{style:{margin:"24px 16px 0"}},r.a.createElement(se,{source:this.props.games.parsedGamesList}),r.a.createElement(pe,null))))}}]),t}(r.a.Component),ye={showFullGameInfo:J},ve=Object(l.b)((function(e){return{games:e.games}}),ye)(be),Oe=function(e){function t(){return Object(w.a)(this,t),Object(L.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllGames({page_size:"36"})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(T,Object.assign({},e,{title:"Game finder",component:ve}))}}),r.a.createElement(s.b,{path:"*",render:function(e){return r.a.createElement(T,Object.assign({},e,{title:"Error?",component:M}))}})))}}]),t}(r.a.Component),je={getAllGames:X},Se=Object(l.b)((function(e){return{games:e.games}}),je)(Oe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,{store:G},r.a.createElement(s.c,{history:k},r.a.createElement(Se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},83:function(e,t,a){e.exports={container:"style_container__XoHml",logo:"style_logo__26mrL",header:"style_header__2FtH5"}}},[[154,1,2]]]);
//# sourceMappingURL=main.70d43c39.chunk.js.map